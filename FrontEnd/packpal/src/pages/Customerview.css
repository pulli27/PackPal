/* ===== Page wrap (NO SIDEBAR) ==================================== */
.page-wrap.cv-page{
  --bg:#f8fafc;
  --ink:#0f172a;
  --border:#e5e7eb;

  /* was: display:flex for sidebar+main */
  display:block;
  min-height:100vh;
  background:var(--bg);
  color:var(--ink);
}

/* kill any leftover sidebar nodes gracefully (in case something renders it) */
.page-wrap.cv-page .sidebar{ display:none !important; }

/* Main column */
.cv-main{
  flex: 1 1 auto;            /* harmless when display:block */
  min-width: 0;
  position: relative;         /* keep hero/overlap contained */
  isolation: isolate;         /* clean stacking context */
}

/* ===== Existing styles scoped under .cv-main ===================== */

/* Hero */
.cv-main .cv-hero{
  position: relative;
  padding: 48px 20px 64px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color:#fff;
  overflow:hidden;
  z-index:1;
}
.cv-main .cv-hero::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(1200px 400px at 10% -10%, rgba(255,255,255,.15), transparent 60%),
    radial-gradient(1000px 400px at 90% 0%, rgba(255,255,255,.12), transparent 60%);
  pointer-events:none;
  z-index:0;
}
.cv-main .cv-hero-inner{
  max-width: 1200px;
  margin: 0 auto 24px;
  padding: 0 8px;
  display:flex; align-items:center; justify-content:space-between;
  position:relative; z-index:1;
}
.cv-main .cv-brand{ font-weight:900; font-size:24px; letter-spacing:.4px; }
.cv-main .cv-top-nav a{
  color:#fff; text-decoration:none; font-weight:700; opacity:.9; margin-left:18px;
  transition:opacity .2s ease;
}
.cv-main .cv-top-nav a:hover,
.cv-main .cv-top-nav a:focus-visible{ opacity:1; text-decoration:underline; }
.cv-main .cv-top-nav a.active{ text-decoration:underline; }

.cv-main .cv-hero-content{
  max-width: 880px; margin:0 auto; text-align:center; padding:10px 8px 0;
  position:relative; z-index:1;
}
/* <-- CHANGED: add 0.5cm space above the title */
.cv-main .cv-hero-content h1{
  margin:0.5cm 0 8px; 
  font-size:clamp(28px,5vw,42px); 
  font-weight:900; 
  letter-spacing:.3px;
}
.cv-main .cv-hero-content p{
  margin:0 auto 18px; max-width:720px; color:rgba(255,255,255,.9); font-weight:500;
}
.cv-main .cv-hero-search{
  display:inline-flex; gap:8px; background:rgba(255,255,255,.96);
  border:1px solid rgba(255,255,255,.65); border-radius:14px; padding:8px;
  box-shadow:0 12px 30px rgba(0,0,0,.12);
  pointer-events:auto;
}
.cv-main .cv-hero-search input{
  width:min(68vw,520px); padding:12px 14px; border:none; outline:none;
  font-size:14px; border-radius:10px; color:#0f172a; background:transparent;
}
.cv-main .cv-hero-search input::placeholder{ color:#6b7280; }
.cv-main .cv-hero-search button{
  border:0; border-radius:10px; padding:10px 14px; font-size:16px; cursor:pointer;
  background:linear-gradient(135deg,#2563eb,#1d4ed8); color:#fff; font-weight:800;
  box-shadow:0 10px 18px rgba(29,78,216,.25); transition:transform .15s ease;
}
.cv-main .cv-hero-search button:hover{ transform: translateY(-1px); }
.cv-main .cv-hero-search button:focus-visible{ outline:3px solid rgba(255,255,255,.7); outline-offset:2px; }

/* Main container (overlaps hero) */
.cv-main .cv-container{
  max-width: 1200px;
  margin: -28px auto 0;
  padding: 0 20px 28px;
  position: relative;
  z-index: 2;
}
.cv-main .cv-list-head{ display:flex; align-items:end; justify-content:space-between; gap:16px; margin:0 0 12px; }
.cv-main .cv-count{ color:#64748b; font-size:14px; }

/* Grid */
.cv-main .cards-grid{
  display:grid; grid-template-columns: repeat(3, minmax(0,1fr));
  gap:22px; position:relative; z-index:2; pointer-events:auto;
}
@media (max-width:1100px){ .cv-main .cards-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width:640px){  .cv-main .cards-grid{ grid-template-columns: 1fr; } }

/* Card */
.cv-main .card{
  background:#fff; border:1px solid #eef2f7; border-radius:18px; overflow:hidden;
  box-shadow:0 10px 28px rgba(0,0,0,.06);
  display:flex; flex-direction:column; transition: transform .25s ease, box-shadow .25s ease;
  position:relative; z-index:1;
}
.cv-main .card:hover{ transform: translateY(-3px) scale(1.01); box-shadow:0 16px 36px rgba(0,0,0,.1); }

.cv-main .card-media{ position:relative; aspect-ratio:4/3; background:#fff; overflow:hidden; }
.cv-main .card-media img{ width:100%; height:100%; object-fit:cover; display:block; transition: transform .35s ease; }
.cv-main .card-media:hover img{ transform: scale(1.05); }

.cv-main .badge{
  position:absolute; top:12px; left:12px; background:#ef4444; color:#fff;
  font-weight:800; font-size:12px; border-radius:999px; padding:6px 10px;
  letter-spacing:.3px; box-shadow:0 8px 18px rgba(239,68,68,.2); z-index:2;
}

.cv-main .price-block{ display:flex; align-items:center; gap:10px; padding:12px 18px 0; }
.cv-main .price-old{ color:#94a3b8; text-decoration:line-through; font-weight:800; font-size:14px; }
.cv-main .price-new{ color:#0f172a; font-weight:900; font-size:18px; }
.cv-main .price-chip{
  margin-left:auto; font-size:12px; font-weight:900; color:#065f46;
  background:linear-gradient(135deg,#d1fae5,#a7f3d0); border:1px solid #86efac;
  padding:4px 8px; border-radius:999px; white-space:nowrap;
}

.cv-main .card-body{ padding:14px 18px 18px; }
.cv-main .category{ color:#2563eb; font-weight:800; font-size:12px; letter-spacing:.4px; text-transform:uppercase; margin-bottom:6px; }
.cv-main .title{ font-size:20px; line-height:1.35; margin:2px 0 8px; color:#0f172a; font-weight:800; }

.cv-main .rating-row{ display:flex; align-items:center; gap:8px; margin:2px 0 12px; }
.cv-main .stars{ color:#f59e0b; letter-spacing:1px; font-weight:900; }
.cv-main .reviews{ color:#64748b; font-size:14px; }

/* Buttons */
.cv-main .btn-row{
  display:flex; align-items:center; gap:12px; justify-content:space-between;
  position:relative; z-index:3; pointer-events:auto; min-height:48px;
}
.cv-main .btn{
  border:none; cursor:pointer; font-weight:800; border-radius:12px; transition:.2s; padding:12px 16px;
  background:#fff; color:#1f2937; border:2px solid #e5e7eb; position:relative; z-index:3;
}
.cv-main .btn:hover{ transform: translateY(-1px); box-shadow:0 10px 20px rgba(0,0,0,.08); border-color:#c7d2fe; }
.cv-main .btn:focus-visible{ outline:3px solid rgba(37,99,235,.35); outline-offset:2px; }
.cv-main .btn.primary{ background:linear-gradient(135deg,#2563eb,#1d4ed8); color:#fff; border-color:transparent; }
.cv-main .btn.primary:hover{ box-shadow:0 14px 26px rgba(37,99,235,.25); transform: translateY(-2px); }
.cv-main .btn.ghost{ background:#fff; }

.cv-main .btn.heart{
  width:52px; height:42px; padding:0; font-size:18px; color:#ef4444;
  position:absolute; left:50%; transform: translateX(-50%);
  display:inline-flex; align-items:center; justify-content:center;
}
.cv-main .btn.heart.active{ background:#fee2e2; border-color:#fecaca; color:#dc2626; }
.cv-main .btn.heart.active::after{
  content:""; position:absolute; inset:-6px; border-radius:14px; animation: wish-pulse 600ms ease-out;
}
@keyframes wish-pulse{
  0%{ box-shadow:0 0 0 0 rgba(239,68,68,.35); opacity:1; }
  100%{ box-shadow:0 0 0 10px rgba(239,68,68,0); opacity:0; }
}

/* Empty / Error */
.cv-main .cv-empty{ margin-top:18px; color:#64748b; text-align:center; }
.cv-main .cv-error{
  margin:10px 0 18px; padding:10px 12px; border-radius:12px;
  background:#fef2f2; color:#b91c1c; border:1px solid #fecaca;
}

/* Modal (base) */
.cv-modal{
  position:fixed; inset:0; background:rgba(0,0,0,.45);
  display:flex; align-items:center; justify-content:center; z-index: 9999;
}
.cv-modal-card{
  width:min(92vw, 640px); background:#fff; border-radius:16px; padding:20px;
  box-shadow:0 20px 60px rgba(0,0,0,.3);
}

/* ===== Big product details modal (for the More button) ===== */
.cv-modal-card.big{
  width: min(1100px, 96vw);
  background:#fff;
  border-radius:16px;
  box-shadow:0 20px 60px rgba(2,6,23,.35);
  overflow:hidden;
  display:grid;
  grid-template-columns: 1.15fr 1fr; /* image left, details right */
  max-height: 90vh;
}

.cv-modal-hero{
  background:#f2f4f7;
  display:grid;
  place-items:center;
  padding:18px;
}
.cv-modal-hero img{
  width:100%;
  height:100%;
  max-height:90vh;
  object-fit:contain;
  border-radius:12px;
}

.cv-modal-body{
  padding:24px 28px;
  overflow:auto;
}
.cv-modal-body h2{ margin:0 0 6px; font-size:28px; color:#0f172a; }

.rating-and-price{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.rating-badge .stars{ font-size:18px; letter-spacing:1px; }
.muted{ color:#667085; }
.mt-2{ margin-top:8px; }
.mt-3{ margin-top:12px; }

.price-stack .price-main{ font-size:22px; font-weight:800; color:#0f172a; }
.price-stack .price-was{ text-decoration:line-through; color:#98a2b3; font-weight:600; }

.cv-spec-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:12px 16px; margin:18px 0 10px;
}
.cv-spec-grid .k{ font-size:13px; color:#667085; }
.cv-spec-grid .v{
  background:#f8fafc; border:1px solid #e5e7eb; padding:10px 12px;
  border-radius:10px; font-weight:600; color:#0f172a;
}

/* Mobile: stack image over details */
@media (max-width: 900px){
  .cv-modal-card.big{ grid-template-columns:1fr; }
  .cv-modal-hero img{ max-height:50vh; }
}

/* Mobile tweaks (no sidebar logic needed anymore) */
@media (max-width: 768px){
  .cv-main .cv-hero{ padding: 36px 16px 54px; }
  .cv-main .cv-hero-search{ width: 100%; }
  .cv-main .cv-hero-search input{ width: 100%; }
  .cv-main .cv-container{ padding: 0 16px 22px; }
  .cv-main .btn-row{ min-height: 52px; }
}

/* Safety: disable clicks on any stray global overlays */
body .global-overlay, body .sidebar-overlay, body .header-overlay{ pointer-events:none !important; }
